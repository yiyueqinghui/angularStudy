<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>$timeout和$interval的应用场景</title>
		<script type="text/javascript" src="../js/jquery-1.11.3.js" ></script>
		<script type="text/javascript" src="../js/angular.js" ></script>
	</head>
	<body>
		<div ng-app='hd' ng-controller='ctrl'>
			{{name}} 
			<hr />
			{{id}}
		</div>
	<script>
		var m = angular.module('hd',[]);
		m.controller('ctrl',['$scope','$timeout','$interval',function($scope,$timeout,$interval){
              $scope.name ="后盾人";
              $scope.id = 1;
//           依赖注入定时器,延迟执行
            var timeId = $timeout(function(){
             	$scope.name = "houdunren.com";
             },2000)
////          清空定时器,不执行定时器
//          $timeout.cancel(timeId);

//          依赖注入setInterval
            var InterId = $interval(function(){
            	$scope.id++;
            	if($scope.id>10){
            	    $interval.cancel(InterId);	
            	}
            },1000);
		}])
	</script>
	</body>
</html>
